<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}">

<head>
    <title>Cadastrar paciente</title>
    <meta charset="UTF-8" />
</head>

<body>
    <div layout:fragment="corpo">
        <section class="layout-content">
            <div class="container" id="cadastro">

                <div th:replace="~{fragments/alert :: alert}"></div>

                <form th:action="${paciente.cpf == null} ? @{/pacientes/salvar} : @{/pacientes/editar}"
                    th:object="${paciente}" method="post" enctype="multipart/form-data">
                    
                    <div class="mb-3">
                        <label for="cpf" class="form-label">CPF</label>
                        <input type="text" class="form-control" aria-describedby="cpfHelp" id="cpf" required
                            th:field="(*{cpf})" />
                        <div id="cpfHelp" class="form-text">
                            Escreva sem pontos ou hífen. Exemplo: 12345678901.
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="nome" class="form-label">Nome</label>
                        <input type="text" class="form-control" id="nome" required th:field="(*{nome})" />
                    </div>

                    <div class="mb-3">
                        <label for="senha" class="form-label">Senha</label>
                        <input type="password" id="senha" class="form-control" aria-describedby="passwordHelp" required
                            th:field="(*{senha})">
                        <div id="passwordHelp" class="form-text">
                            Sua senha deve ter de 8 a 20 caracteres, conter letras e números.
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="datanasc" class="form-label">Data de nascimento</label>
                        <input type="date" id="datanasc" class="form-control" th:field="(*{datanasc})">
                    </div>

                    <div class="mb-3">
                        <label for="telefone" class="form-label">Telefone</label>
                        <input type="text" id="telefone" class="form-control" aria-describedby="telefoneHelp"
                            placeholder="5510999991111" th:field="(*{telefone})">
                        <div id="telefoneHelp" class="form-text">
                            Escreva sem espaços ou hífen.
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="foto" class="form-label">Foto de perfil (opcional)</label>
                        <input type="file" id="foto" name="foto" class="form-control" aria-describedby="fotoHelp">
                        <div id="fotoHelp" class="form-text">
                            A foto deve ter um tamanho menor que 5MB.
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary btn-sm" name="op" value="Salvar">Salvar</button>
                </form>
            </div>
        </section>
    </div>
</body>

</html>